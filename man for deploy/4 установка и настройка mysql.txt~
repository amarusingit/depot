в файл Gemfile в корне приложения вставляем ссылку на гем для СУБД

group :production do
    # Use mysql as the database for Active Record in production
    gem 'mysql2', '0.3.18'
end

group :development, :test do
    # Use sqlite3 as the database for Active Record for test and development
    gem 'sqlite3'
end

запускаем помощник
bundle install

устанавливаем mysql
sudo apt-get install mysql-client mysql-server libmysql-ruby libmysqlclient-dev


смотрим файл /etc/mysql/debian.cnf и берем оттуда пользователя и его пароль
user     = debian-sys-maint
password = 39bCW9klmu1IoPyu

подключаемся к субд
mysql -u debian-sys-maint -p
и вводим пароль по запросу
попадаем в консоль управления субд mysql

создаём бд для продакшена приложения
CREATE DATABASE depot_production DEFAULT CHARACTER SET utf8;

предоставляем права пользователю, под которым крутится приложение и задаем его пароль
GRANT ALL PRIVILEGES ON depot_production.* TO 'andrew'@'localhost' IDENTIFIED BY 'r5t6yR%T^Y';

выходим из консоли управления mysql
exit;

в файле приложения config/database.yml меняем раздел для продакшена
production:
	adapter: mysql2
	encoding: utf8
	reconnect: false
	database: depot_production
	pool: 5
	username: andrew
	password: r5t6yR%T^Y
	host: localhost

база данных инициализируется из папки приложения:
rake db:setup RAIL_ENV="production"


ошибки смотрим в логах:
/var/log/apache2   -    ошибки web-сервера
/папка приложения/log - ошибки RoR

создаем БД
rake db:setup rail_env='production'

бьемся поодня чтобы понять, что надо изменить ключ кэша в store view/index.html.rb



